-- Haran
-- October 7th 2020
-- WEBD3201
-- Remove existing data and re-create it
DROP SEQUENCE IF EXISTS calls_id_seq CASCADE; 
DROP TABLE IF EXISTS calls;

-- Another sequence
CREATE SEQUENCE calls_id_seq START 1000;

CREATE TABLE calls (
   Id INT PRIMARY KEY DEFAULT nextval('calls_id_seq'),
   Created TIMESTAMP NOT NULL,
   ClientId INT REFERENCES clients(Id) NOT NULL -- best to be explicit, and state which column it should reference
   -- salespersonid is unneeded, since a client is linked 1:1 with one salesperson
);

INSERT INTO calls VALUES(1000, '2020-10-23 12:01:00', 1000);
INSERT INTO calls VALUES(1001, '2020-10-23 12:30:36', 1001);
INSERT INTO calls VALUES(1002, '2020-10-23 12:45:54', 1001);
INSERT INTO calls VALUES(1003, '2020-11-20 14:19:01', 1003);
INSERT INTO calls VALUES(1004, '2020-11-20 14:19:03', 1004);
INSERT INTO calls VALUES(1005, '2020-11-20 14:19:04', 1005);
INSERT INTO calls VALUES(1006, '2020-11-20 14:19:05', 1004);
INSERT INTO calls VALUES(1007, '2020-11-20 14:19:06', 1003);
INSERT INTO calls VALUES(1008, '2020-11-20 14:19:07', 1005);
INSERT INTO calls VALUES(1009, '2020-11-20 14:19:08', 1004);
INSERT INTO calls VALUES(1010, '2020-11-20 14:19:10', 1004);
INSERT INTO calls VALUES(1011, '2020-11-20 14:19:11', 1005);
INSERT INTO calls VALUES(1012, '2020-11-20 14:19:13', 1003);
INSERT INTO calls VALUES(1013, '2020-11-20 14:19:14', 1003);
INSERT INTO calls VALUES(1014, '2020-11-20 14:19:23', 1004);
INSERT INTO calls VALUES(1015, '2020-11-20 14:19:25', 1003);
INSERT INTO calls VALUES(1016, '2020-11-20 14:19:27', 1004);
INSERT INTO calls VALUES(1017, '2020-11-20 14:19:28', 1003);
INSERT INTO calls VALUES(1018, '2020-11-20 14:19:29', 1005);
INSERT INTO calls VALUES(1019, '2020-11-20 14:19:31', 1003);
INSERT INTO calls VALUES(1020, '2020-11-20 14:19:32', 1004);
INSERT INTO calls VALUES(1021, '2020-11-20 14:19:34', 1005);
INSERT INTO calls VALUES(1022, '2020-11-20 14:19:35', 1003);
INSERT INTO calls VALUES(1023, '2020-11-20 14:19:41', 1003);
